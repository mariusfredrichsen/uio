"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
var _d2I18n = _interopRequireDefault(require("@dhis2/d2-i18n"));
var _polyfill = require("@js-temporal/polyfill");
var _fromDateString = _interopRequireDefault(require("./from-date-string"));
function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }
const fromAnyDate = _ref => {
  let {
    date,
    calendar
  } = _ref;
  if (typeof date === 'string') {
    return (0, _fromDateString.default)({
      date,
      calendar
    });
  }
  if (date instanceof Date) {
    return _polyfill.Temporal.PlainDate.from({
      year: date.getFullYear(),
      month: date.getMonth() + 1,
      day: date.getDate(),
      calendar
    });
  }
  if (date instanceof _polyfill.Temporal.PlainDate) {
    return _polyfill.Temporal.PlainDate.from({
      year: date.year,
      month: date.month,
      day: date.day,
      calendar
    });
  }
  throw new Error(_d2I18n.default.t(`Unrecognized date, received "{{date}}"`, {
    date
  }));
};
var _default = fromAnyDate;
exports.default = _default;