"use strict";

require("@testing-library/jest-dom");
var _react = require("@testing-library/react");
var _react2 = _interopRequireDefault(require("react"));
var _index = require("../selector-bar-item/index.js");
var _selectorBar = require("./selector-bar.js");
function _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }
const noop = () => null;
describe('SelectorBar', () => {
  it('should render the selection bar items', () => {
    (0, _react.render)( /*#__PURE__*/_react2.default.createElement(_selectorBar.SelectorBar, null, /*#__PURE__*/_react2.default.createElement(_index.SelectorBarItem, {
      label: "Selection bar item 1",
      noValueMessage: "No value message 1",
      open: false,
      setOpen: noop
    }, "Content"), /*#__PURE__*/_react2.default.createElement(_index.SelectorBarItem, {
      label: "Selection bar item 2",
      noValueMessage: "No value message 2",
      open: false,
      setOpen: noop
    }, "Content")));
    expect(_react.screen.getByText('Selection bar item 1')).not.toBeNull();
    expect(_react.screen.getByText('Selection bar item 2')).not.toBeNull();
  });
  it('should not disable the clear selection button by default', () => {
    (0, _react.render)( /*#__PURE__*/_react2.default.createElement(_selectorBar.SelectorBar, {
      onClearSelectionClick: noop
    }, /*#__PURE__*/_react2.default.createElement(_index.SelectorBarItem, {
      label: "label",
      noValueMessage: "msg",
      open: false,
      setOpen: noop
    }, "Content")));
    const clearBtn = _react.screen.getByText('Clear selections');
    expect(clearBtn).not.toBeNull();
    expect(clearBtn).not.toBeDisabled();
  });
  it('should disable the clear selection button', () => {
    (0, _react.render)( /*#__PURE__*/_react2.default.createElement(_selectorBar.SelectorBar, {
      disableClearSelections: true,
      onClearSelectionClick: noop
    }, /*#__PURE__*/_react2.default.createElement(_index.SelectorBarItem, {
      label: "label",
      noValueMessage: "msg",
      open: false,
      setOpen: noop
    }, "Content")));
    const clearBtn = _react.screen.getByText('Clear selections');
    expect(clearBtn).not.toBeNull();
    expect(clearBtn).toBeDisabled();
  });
  it('should render the optional content', () => {
    (0, _react.render)( /*#__PURE__*/_react2.default.createElement(_selectorBar.SelectorBar, {
      additionalContent: /*#__PURE__*/_react2.default.createElement("div", null, "Foobar")
    }, /*#__PURE__*/_react2.default.createElement(_index.SelectorBarItem, {
      label: "label",
      noValueMessage: "msg",
      open: false,
      setOpen: noop
    }, "Content")));
    const extraContent = _react.screen.getByText('Foobar');
    expect(extraContent).not.toBeNull();
  });
  it('should render the displayOnly value', () => {
    (0, _react.render)( /*#__PURE__*/_react2.default.createElement(_selectorBar.SelectorBar, null, /*#__PURE__*/_react2.default.createElement(_index.SelectorBarItem, {
      displayOnly: true,
      label: "Person",
      value: "John doe"
    })));
    const value = _react.screen.getByText('John doe');
    expect(value).not.toBeNull();
  });
  it('should render the cross icon', () => {
    (0, _react.render)( /*#__PURE__*/_react2.default.createElement(_selectorBar.SelectorBar, null, /*#__PURE__*/_react2.default.createElement(_index.SelectorBarItem, {
      label: "label",
      value: "selected value",
      onClearSelectionClick: noop
    })));
    const clearIcon = _react.screen.getByTestId('dhis2-ui-selectorbaritem-clear-icon');
    expect(clearIcon).not.toBeNull();
  });
});