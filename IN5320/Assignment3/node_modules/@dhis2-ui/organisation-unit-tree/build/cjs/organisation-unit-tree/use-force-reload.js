"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.useForceReload = void 0;
var _react = require("react");
/**
 * This will create a new reloadId everytime "forceReload" changes to true,
 * which can be used as the "key" prop on the org unit tree.
 * When that id changes, the whole tree rerenders
 * and therefore triggers all "useDataQuery"s to
 * run the query again
 *
 * @param {bool} forceReload
 * @returns {Int}
 */
const useForceReload = forceReload => {
  const [reloadId, setReloadId] = (0, _react.useState)(0);
  (0, _react.useEffect)(() => {
    const nextReloadId = reloadId + 1;
    forceReload === true && setReloadId(nextReloadId);
  }, [forceReload]);
  return reloadId;
};
exports.useForceReload = useForceReload;