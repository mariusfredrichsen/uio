"use strict";

var _cypressCucumberPreprocessor = require("@badeball/cypress-cucumber-preprocessor");
(0, _cypressCucumberPreprocessor.Given)('the SingleSelect has one option', () => {
  const options = [{
    value: 'Value',
    label: 'Label'
  }];
  cy.wrap(options).as('options');
  cy.window().then(win => {
    win.updateCypressProps({
      options
    });
  });
});
(0, _cypressCucumberPreprocessor.When)('the user selects the first option', () => {
  cy.get('[data-test="dhis2-uicore-select-input"]').selectSelectNthOption(0);
});
(0, _cypressCucumberPreprocessor.Then)("the form state's value equals the first option's value", () => {
  cy.get('@options').then(options => {
    cy.getFormValue('singleSelect').then(actualValue => {
      expect(actualValue).to.deep.equal(options[0].value);
    });
  });
});