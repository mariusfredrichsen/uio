"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
var _d2I18n = _interopRequireDefault(require("@dhis2/d2-i18n"));
var _index = require("../period-id/index");
var _periodTypes = require("../period-types");
function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }
const getWeeklyFixedPeriodTypeForPeriodId = periodId => {
  if (_index.regexWeeklyStandardPeriodId.test(periodId)) {
    return 'WEEKLY';
  }
  if (_index.regexBiWeeklyPeriodId.test(periodId)) {
    return 'BIWEEKLY';
  }
  const weeklyOffsetPeriodMatch = periodId.match(_index.regexWeeklyOffsetPeriodId);
  if (weeklyOffsetPeriodMatch) {
    const [,, name] = weeklyOffsetPeriodMatch;
    const periodType = `WEEKLY${name.toUpperCase()}`;
    if (!_periodTypes.periodTypes.includes(periodType)) {
      throw new Error(_d2I18n.default.t(`Could not determine a period type for period id "{{periodId}}"`, {
        periodId
      }));
    }
    return periodType;
  }
  throw new Error(_d2I18n.default.t(`Couldn't find a period type for weekly period id "{{periodId}}"`, {
    periodId
  }));
};
var _default = getWeeklyFixedPeriodTypeForPeriodId;
exports.default = _default;