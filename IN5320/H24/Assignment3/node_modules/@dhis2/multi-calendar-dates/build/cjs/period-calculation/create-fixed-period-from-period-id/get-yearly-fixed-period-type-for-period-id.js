"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
var _d2I18n = _interopRequireDefault(require("@dhis2/d2-i18n"));
var _monthNumbers = _interopRequireDefault(require("../month-numbers"));
var _index = require("../period-id/index");
function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }
const getYearlyFixedPeriodTypeForPeriodId = periodId => {
  if (_index.regexYearlyStandardPeriodId.test(periodId)) {
    return 'YEARLY';
  }
  const financialYearFixedPeriodMatch = periodId.match(_index.regexYearlyFinancialPeriodId);
  if (financialYearFixedPeriodMatch) {
    const monthName = financialYearFixedPeriodMatch[2].slice(0, 3);
    const result = Object.entries(_monthNumbers.default).find(_ref => {
      let [, {
        name
      }] = _ref;
      return name.startsWith(monthName);
    });
    if (!result) {
      throw new Error('@TODO');
    }
    const [month] = result;
    return `FY${month}`;
  }
  throw new Error(_d2I18n.default.t(`Could not find a period type for period id "{{periodId}}"`, {
    periodId
  }));
};
var _default = getYearlyFixedPeriodTypeForPeriodId;
exports.default = _default;